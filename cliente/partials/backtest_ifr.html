

<div class='container'>


    <div class="row backtest-form">


        <div class="col-sm-3">
            <h1>IFR - {{carteira_simular.cod_ativo.cod_ativo}}</h1>
            <!--<label>Selecione a ação: 
                <select ng-change="simularAtivo(cod_ativo_selecionado)" ng-options="item as item.cod_ativo for item in lista_codigos_ativos track by item.cod_ativo" ng-model="cod_ativo_selecionado">
                </select>
            </label>-->
        </div>
      
        <div class="col-sm-9">
          
          <!--
          <h2>Saldo inicial: {{ carteira_inicial.saldo | currency:NUMBER_FORMATS.CURRENCY_SYM }}</h2>
          -->
          
          <div class="input-group">
            <select ng-options="item as item.cod_ativo for item in lista_codigos_ativos track by item.cod_ativo" ng-model="carteira_simular.cod_ativo">
            </select>
          </div>
          
          <div class="input-group">
            <span class="input-group-addon" id="basic-addon1">Periodo IFR</span>
            <input type="text" class="form-control" ng-model="carteira_simular.periodo" placeholder="0" aria-describedby="basic-addon1">
          </div>

          <div class="input-group">
            <span class="input-group-addon" id="basic-addon1">Media móvel simples 1</span>
            <input type="text" class="form-control" ng-model="carteira_simular.mms1" placeholder="0" aria-describedby="basic-addon1">
          </div>
          
          <div class="input-group">
            <span class="input-group-addon" id="basic-addon1">Saldo simular</span>
            <input type="text" class="form-control" ng-model="carteira_simular.saldo_inicial" placeholder="0" aria-describedby="basic-addon1">
          </div>

          <div class="input-group">
            <span class="input-group-addon" id="basic-addon1">Critério de compra</span>
            <input type="text" class="form-control" ng-model="carteira_simular.criterio_compra" placeholder="0" aria-describedby="basic-addon1">
          </div>
          
          <div class="input-group">
            <span class="input-group-addon" id="basic-addon1">Critério de venda</span>
            <input type="text" class="form-control" ng-model="carteira_simular.criterio_venda" placeholder="0" aria-describedby="basic-addon1">
          </div>

          <button type="button" ng-click="simularAtivo(carteira_simular)" class="btn btn-success">Simular</button>
          
          <hr>
          
          <h2>Resultado: {{ carteira_final.saldo | currency:NUMBER_FORMATS.CURRENCY_SYM }}</h2>
        
        </div>

    </div>

    <hr>    

    <div class="row">
        <div class='col-sm-12'>
            <div class="row">
                <div class="col-sm-2"><strong>Data pregão</strong></div>
                <div class="col-sm-1"><strong>Tipo</strong></div>
                <div class="col-sm-2"><strong>Cotacao</strong></div>
                <div class="col-sm-1"><strong>Lotes</strong></div>
                <div class="col-sm-1"><strong>Valor</strong></div>
                <div class="col-sm-1"><strong>Saldo</strong></div>
            </div>

            <div class="row" ng-repeat="operacao in acoes_simuladas| orderBy : '-trade_compra.cotacao.data_pregao'">
                <div class="bg-info row">

                    <div class="col-sm-2">{{ operacao.trade_compra.cotacao.data_pregao | date:'dd/MM/yyyy' }}</div>
                    <div class="col-sm-1">{{ operacao.trade_compra.tipo_trade}}</div>
                    <div class="col-sm-2">{{ operacao.trade_compra.cotacao.fechamento | currency:NUMBER_FORMATS.CURRENCY_SYM }}</div>
                    <div class="col-sm-1">{{ operacao.trade_compra.lotes}}</div>
                    <div class="col-sm-1">{{ operacao.trade_compra.valor | currency:NUMBER_FORMATS.CURRENCY_SYM }}</div>
                    <div class="col-sm-1">{{ operacao.trade_compra.carteira.saldo | currency:NUMBER_FORMATS.CURRENCY_SYM }}</div>
                </div>

                <div class="bg-warning row">
                    <div class="col-sm-2">{{ operacao.trade_venda.cotacao.data_pregao | date:'dd/MM/yyyy' }}</div>
                    <div class="col-sm-1">{{ operacao.trade_venda.tipo_trade}}</div>
                    <div class="col-sm-2">{{ operacao.trade_venda.cotacao.fechamento | currency:NUMBER_FORMATS.CURRENCY_SYM }}</div>
                    <div class="col-sm-1">{{ operacao.trade_venda.lotes}}</div>
                    <div class="col-sm-1">{{ operacao.trade_venda.valor | currency:NUMBER_FORMATS.CURRENCY_SYM }}</div>
                    <div class="col-sm-1">{{ operacao.trade_venda.carteira.saldo | currency:NUMBER_FORMATS.CURRENCY_SYM }}</div>
                </div>

                <div class="bg-success row">
                    <strong class="col-md-1">Realizado: </strong> 
                    <div class="col-md-offset-3">
                        <span>{{operacao.realizado| currency:NUMBER_FORMATS.CURRENCY_SYM }}</span>  
                        ({{operacao.rentabilidade| number:2 }}%)
                    </div>

                    <div class="col-sm-1"><strong>MMS</strong></div><div class="col-sm-1">{{ operacao.mms }}</div>

                </div>

                <div class='row'>
                    <hr>
                </div>


            </div>


        </div>  

    </div>

</div>


<!--

<table class="table table-bordered"> 
  <thead> 
    <tr>
      <th>Data pregão</th>
      <th>Data operação</th>
      <th>Tipo</th>
      <th>Cotacao</th>
      <th>Lotes</th>
      <th>Valor</th>
      <th>Saldo</th>
    </tr> 
  </thead> 
  <tbody>

    
      <tr ng-repeat="operacao in acoes_simuladas | orderBy : '-operacao.trade_compra.cotacao.data_pregao'" >

        <td  class="active">{{operacao.trade_compra.cotacao.data_pregao | date:'dd/MM/yyyy' }}</td>
        <td  class="active">{{operacao.trade_compra.data_operacao | date:'dd/MM/yyyy' }}</td>
        <td  class="active">{{operacao.trade_compra.tipo_trade }}</td>
        <td class="active">{{operacao.trade_compra.cotacao.fechamento | currency:NUMBER_FORMATS.CURRENCY_SYM }}</td>
        <td class="active">{{ operacao.trade_compra.lotes }}</td>
        <td class="active">{{ operacao.trade_compra.valor | currency:NUMBER_FORMATS.CURRENCY_SYM }}</td>
        <td class="active">{{ operacao.trade_compra.carteira.saldo | currency:NUMBER_FORMATS.CURRENCY_SYM }}</td>


        <td class="danger">{{operacao.trade_venda.cotacao.data_pregao | date:'dd/MM/yyyy' }}</td>
        <td class="danger">{{operacao.trade_venda.data_operacao | date:'dd/MM/yyyy' }}</td>
        <td class="danger">{{operacao.trade_venda.tipo_trade }}</td>
        <td class="danger">{{operacao.trade_venda.cotacao.fechamento | currency:NUMBER_FORMATS.CURRENCY_SYM }}</td>
        <td class="danger">{{ operacao.trade_venda.lotes }}</td>
        <td class="danger">{{ operacao.trade_venda.valor | currency:NUMBER_FORMATS.CURRENCY_SYM }}</td>
        <td class="danger">{{ operacao.trade_venda.carteira.saldo | currency:NUMBER_FORMATS.CURRENCY_SYM }}</td>
        
      </tr>
    
  </tbody> 
</table>

-->